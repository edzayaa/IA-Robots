---
import Layout from "@layouts/Layout.astro";

const locations = new Array(4).fill(null);
---

<Layout>
  <section>
    <div class="bck">
      <!-- <img src="/images/locations.png" alt="" /> -->
      <div id="map"></div>
    </div>
    <div class="popup">
      <button id="mobile-toggle" aria-label="Click to show and hide the popup">
        <span></span>
      </button>
      <div class="wrapper">
        <span class="subtitle-3 text-start color-blue"> Our Locations </span>
        <h1 class="subtitle-1 text-start color-white">Greece</h1>
        <ul>
          {
            locations.map((location) => (
              <li>
                <h2 class="subtitle-3 text-start color-white">Office 1</h2>
                <p class="paragraph-1">
                  <span> p </span>
                  +30 694 555 1234
                </p>
                <p class="paragraph-1">
                  <span>e</span>
                  airobots@gmail.com
                </p>
                <p class="paragraph-1">
                  <span> a </span>
                  Piraeus HarbourAcropolis of Athens, Athens, Greece
                </p>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </section>
</Layout>

<style lang="scss">
  section {
    margin-top: calc(var(--top-space) * 0.5);
    overflow: hidden;
    ::-webkit-scrollbar {
      display: block !important;
    }
    .bck {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.85;
      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      #map {
        width: 100%;
        height: 100%;
      }
    }

    .popup {
      width: calc(var(--fs) * 44.9375);
      border-radius: calc(var(--fs) * 3.75);
      background: #121212;
      overflow: hidden;
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: calc(var(--fs) * 1.5); 
      right: calc(var(--hor-padding));
      top: calc(var(--top-space) * 0.25);
      height: initial;
      z-index: 1;
      button {
        display: none;
        opacity: 0;
        visibility: hidden;
      }
      .wrapper {
        width: 100%;
        height: 100%;
        display: grid;
        grid-template-columns: 100%;
        grid-auto-rows: max-content;
        gap: calc(var(--fs) * 1.5);
        padding: calc(var(--fs) * 3.5) calc(var(--fs) * 2.5);
        position: relative;
        overflow: hidden;
        border-radius: calc(var(--fs) * 3.25);
        z-index: 1;
        &::before {
          content: "";
          position: absolute;
          top: 0%;
          right: 0;
          transform: translate(50%, -50%);
          width: 100vw;
          height: 100vw;
          border-radius: inherit;
          background: radial-gradient(var(--MAIN-BLUE), #00000000 30%);
          pointer-events: none;
          border-radius: 50%;
          opacity: 0.5;
        }
        &::after {
          content: "";
          position: absolute;
          bottom: 0%;
          left: 0;
          transform: translate(-50%, 50%);
          width: 80vw;
          height: 80vw;
          border-radius: inherit;
          background: radial-gradient(var(--MAIN-BLUE), #00000000 40%);
          pointer-events: none;
          border-radius: 50%;
          opacity: 0.5;
        }
        ul {
          padding: 0;
          padding-bottom: calc(var(--fs) * 2);
          display: grid;
          grid-template-columns: 100%;
          grid-auto-flow: row;
          grid-auto-rows: max-content;
          gap: calc(var(--fs) * 0.875);
          overflow-y: auto;
          height: 50vh;
          li {
            padding: 0;
            list-style: none;
            width: 100%;
            min-height: calc(var(--fs) * 17.16094);
            border-radius: calc(var(--fs) * 1.65);
            border: 1.76px solid var(--MAIN-BLUE, #6289ff);
            border-color: #767676;
            padding: calc(var(--fs) * 2.91) calc(var(--fs) * 3.14);
            &.active,
            &:hover {
              border-color: var(--MAIN-BLUE);
            }
            h2 {
              display: flex;
              align-items: center;
              margin-bottom: calc(var(--fs) * 2);
              &::before {
                content: "";
                border-radius: 50%;
                width: calc(var(--fs) * 0.55);
                height: calc(var(--fs) * 0.55);
                background-color: #d9d9d9;
                display: inline-block;
                margin-right: calc(var(--fs) * 1.32);
              }
            }
            p {
              display: grid;
              grid-template-columns: max-content 1fr;
              gap: calc(var(--fs));
              align-items: center;
              text-align: left;
              margin-top: calc(var(--fs) * 1.3);
              &:first-of-type {
                margin-top: 0;
              }
              span {
                width: calc(var(--fs) * 2);
                height: calc(var(--fs) * 2);
                display: flex;
                align-items: center;
                justify-content: center;
                text-transform: uppercase !important;
                border-radius: 50%;
                border: 0.88px solid var(--Gray-Paragraph, #cbcbcb);
                text-align: center;
              }
            }
          }
        }
      }
    }
  }

  @media (orientation: portrait) {
    section {
      margin-top: calc(var(--top-space) * 1.25);
      min-height: unset;
      height: calc(var(--fs) * 60);
      ::-webkit-scrollbar {
        display: block !important;
      }
      .bck {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.85;
        img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
      }

      .popup {
        width: calc(var(--fs) * 28);
        border-radius: calc(var(--fs) * 3.5);
        padding: calc(var(--fs) * 1.5);
        right: calc(var(--hor-padding));
        top: unset;
        bottom: calc(var(--fs) * 2.5);
        .wrapper {
          width: 100%;
          height: 100%;
          display: grid;
          grid-template-columns: 100%;
          grid-auto-rows: max-content;
          gap: calc(var(--fs) * 1);
          padding: calc(var(--fs) * 2) calc(var(--fs) * 1.5);
          position: relative;
          overflow: hidden;
          border-radius: calc(var(--fs) * 3);
          z-index: 1;
          &::before {
            content: "";
            position: absolute;
            top: 0%;
            right: 0;
            transform: translate(50%, -50%);
            width: 100vw;
            height: 100vw;
            border-radius: inherit;
            background: radial-gradient(var(--MAIN-BLUE), #00000000 30%);
            pointer-events: none;
            border-radius: 50%;
            opacity: 0.5;
          }
          &::after {
            content: "";
            position: absolute;
            bottom: 0%;
            left: 0;
            transform: translate(-50%, 50%);
            width: 80vw;
            height: 80vw;
            border-radius: inherit;
            background: radial-gradient(var(--MAIN-BLUE), #00000000 40%);
            pointer-events: none;
            border-radius: 50%;
            opacity: 0.5;
          }
          .subtitle-3 {
            font-size: var(--fs);
          }
          h1 {
            font-size: calc(var(--fs) * 3.125);
          }
          ul {
            padding: 0;
            padding-bottom: calc(var(--fs) * 2);
            display: grid;
            grid-template-columns: 100%;
            grid-auto-flow: row;
            grid-auto-rows: max-content;
            gap: calc(var(--fs) * 0.875);
            overflow-y: auto;
            height: 50vh;
            width: 100%;
            li {
              min-height: calc(var(--fs) * 15.125);
              border-radius: calc(var(--fs) * 1.65);
              padding: calc(var(--fs) * 2.62) calc(var(--fs) * 1.19);
              width: 100%;
              h2 {
                display: flex;
                align-items: center;
                margin-bottom: calc(var(--fs) * 2);
                &::before {
                  content: "";
                  border-radius: 50%;
                  width: calc(var(--fs) * 0.55);
                  height: calc(var(--fs) * 0.55);
                  background-color: #d9d9d9;
                  display: inline-block;
                  margin-right: calc(var(--fs) * 1.32);
                }
              }
              p {
                gap: calc(var(--fs) * 0.55);
                margin-top: calc(var(--fs) * 1);
                span {
                  width: calc(var(--fs) * 2);
                  height: calc(var(--fs) * 2);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  text-transform: uppercase !important;
                  border-radius: 50%;
                  border: 0.88px solid var(--Gray-Paragraph, #cbcbcb);
                  text-align: center;
                }
              }
            }
          }
        }
      }
    }

    @media (max-aspect-ratio: 0.625) {
      section {
        margin-top: calc(var(--top-space) * 1.25);
        min-height: unset;
        height: calc(var(--fs) * 50);
        ::-webkit-scrollbar {
          display: block !important;
        }
        .bck {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          opacity: 0.85;
          img {
            width: 100%;
            height: 100%;
            object-fit: cover;
          }
        }

        .popup {
          width: calc(100% - calc(var(--hor-padding) * 2));
          border-radius: calc(var(--fs) * 3.5);
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
          padding: calc(var(--fs) * 1.25);
          padding-top: calc(var(--fs) * 0.25);
          right: calc(var(--hor-padding));
          top: unset;
          bottom: 0;
          flex-direction: column;
          button {
            width: 100%;
            height: calc(var(--fs) * 2);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            visibility: visible;
            span {
              width: calc(var(--fs) * 3);
              height: calc(var(--fs) * 0.125);
              border-radius: calc(var(--fs));
              background-color: #d9d9d9;
            }
          }
          .wrapper {
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: 100%;
            grid-auto-rows: max-content;
            gap: calc(var(--fs) * 1);
            padding: calc(var(--fs) * 2) calc(var(--fs) * 1.5);
            &::before {
              width: 200vw;
              height: 200vw;
            }
            &::after {
              width: 200vw;
              height: 200vw;
            }
            .subtitle-3 {
              font-size: var(--fs);
            }
            h1 {
              font-size: calc(var(--fs) * 2);
            }
            ul {
              gap: calc(var(--fs) * 1.12);
              height: 120vw;
              width: 105%;
              li {
                min-height: calc(var(--fs) * 15.125);
                border-radius: calc(var(--fs) * 1.65);
                padding: calc(var(--fs) * 2.62) calc(var(--fs) * 1.19);

                h2 {
                  display: flex;
                  align-items: center;
                  margin-bottom: calc(var(--fs) * 1.38);
                  &::before {
                    content: "";
                    border-radius: 50%;
                    width: calc(var(--fs) * 0.55);
                    height: calc(var(--fs) * 0.55);
                    background-color: #d9d9d9;
                    display: inline-block;
                    margin-right: calc(var(--fs) * 1.32);
                  }
                }
                p {
                  gap: calc(var(--fs) * 0.55);
                  margin-top: calc(var(--fs) * 1);
                  span {
                    width: calc(var(--fs) * 2);
                    height: calc(var(--fs) * 2);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-transform: uppercase !important;
                    border-radius: 50%;
                    border: 0.88px solid var(--Gray-Paragraph, #cbcbcb);
                    text-align: center;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
</style>
