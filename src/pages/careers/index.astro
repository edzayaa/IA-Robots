---
import ButtonPrimary from "@components/ButtonPrimary";
import Layout from "@layouts/Layout.astro";
import { Picture } from "astro:assets";
import ellipse from "@assets/ellipse_large.png";

const careers = new Array(4).fill({});
---

<Layout>
  <section id="top-section">
    <div class="ellipse-wrapper intro-anim">
      <Picture
        src={ellipse}
        alt=""
        class={"ellipse "}
        fetchpriority={"high"}
        quality={"max"}
        loading={"eager"}
      />
    </div>

    <div class="btn first intro-anim">We´re hiring!</div>
    <h1 class="h1 intro-anim">
      Be part of our <br class="br-mobile" /> mission
    </h1>
    <p class="paragraph-1 color-white text-start intro-anim">
      We´re looking for passionate people to join us on our mission. We value
      flat hierarchies, clear communication, and full ownership and
      responsability
    </p>

    <div class="categories intro-anim">
      <button class="btn active">view all</button>
      <button class="btn">development</button>
      <button class="btn">design</button>
      <button class="btn">marketing</button>
      <button class="btn">customer service</button>
      <button class="btn">operations</button>
      <button class="btn">finance</button>
      <button class="btn">management</button>
    </div>
  </section>
  <section id="careers-section" class="intro-anim">
    {
      careers.map((career) => (
        <div class="career">
          <h2 class="subtitle-2 color-white text-start">
            Customer Success Manager
          </h2>
          <button
            class="subtitle-3 color-white flex-center"
            aria-label="Click get more information"
          >
            on-site
            <img src="/icons/arrow_down.svg" alt="" loading="lazy" />
          </button>
          <p class="paragraph-1">
            We`re looking for a customer success manager to join our team
          </p>
          <div class="btn">full time</div>
          <div class="content">
            <h3 class="title subtitle-3 color-white text-start">
              Responsabilities
            </h3>
            <p class="paragraph-1">
              Lorem ipsum dolor sit amet consectetur. Quam nisl non dictumst
              dignissim fringilla curabitur tellus quisque at. Dictum justo
              praesent morbi massa. Adipiscing ornare urna aliquet eu felis
              turpis. Viverra arcu vivamus nec in fusce vitae. Porttitor nibh
              libero condimentum in. Amet quisque pulvinar dui vel adipiscing
              elit sed lorem. Habitant suspendisse mattis nascetur dolor varius
              lectus.
              <br />
              <br />
              Lorem ipsum dolor sit amet consectetur. Quam nisl non dictumst
              dignissim fringilla curabitur tellus quisque at. Dictum justo
              praesent morbi massa. Adipiscing ornare urna aliquet eu felis
              turpis. Viverra arcu vivamus nec in fusce vitae. Porttitor nibh
              libero condimentum in. Amet quisque pulvinar dui vel adipiscing
              elit sed lorem. Habitant suspendisse mattis nascetur dolor varius
              lectus.
            </p>

            <h3 class="title subtitle-3 color-white text-start">Expertise</h3>
            <p class="paragraph-1">
              Lorem ipsum dolor sit amet consectetur. Quam nisl non dictumst
              dignissim fringilla curabitur tellus quisque at. Dictum justo
              praesent morbi massa. Adipiscing ornare urna aliquet eu felis
              turpis. Viverra arcu vivamus nec in fusce vitae. Porttitor nibh
              libero condimentum in. Amet quisque pulvinar dui vel adipiscing
              elit sed lorem. Habitant suspendisse mattis nascetur dolor varius
              lectus.
              <br />
              <br />
              Lorem ipsum dolor sit amet consectetur. Quam nisl non dictumst
              dignissim fringilla curabitur tellus quisque at. Dictum justo
              praesent morbi massa. Adipiscing ornare urna aliquet eu felis
              turpis. Viverra arcu vivamus nec in fusce vitae. Porttitor nibh
              libero condimentum in. Amet quisque pulvinar dui vel adipiscing
              elit sed lorem. Habitant suspendisse mattis nascetur dolor varius
              lectus.
            </p>
            <ButtonPrimary client:load content="Apply now" />
          </div>
        </div>
      ))
    }
  </section>
</Layout>

<style lang="scss">
  .btn {
    border-radius: calc(var(--fs) * 2.5);
    height: calc(var(--fs) * 2.5);
    border: 1px solid #f7f7f7;
    color: #fff;
    font-family: "Work Sans";
    font-size: calc(var(--fs) * 1.125);
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 calc(var(--fs) * 0.875);
    transition:
      color 0.15s ease-in,
      background-color 0.15s ease-in,
      border-color 0.15s ease-in;
    text-transform: capitalize !important;
    &.first {
      background-color: #00000000 !important;
      color: #fff !important;
      border-color: #f7f7f7 !important;
    }
  }
  #top-section {
    padding: calc(var(--top-space) * 0.75) calc(var(--hor-padding))
      calc(var(--fs) * 9.28);
    display: grid;
    grid-template-columns: 100%;
    grid-auto-flow: row;
    grid-auto-rows: max-content;
    gap: min(calc(var(--fs) * 3), 5vh);
    min-height: unset;

    .btn {
      justify-self: start;
      &.active {
        background-color: #fff !important;
        color: #000 !important;
      }
      &:hover {
        background-color: #d4d4d4;
        border-color: #d4d4d4;
        color: #000;
      }
    }
    p {
      width: calc(var(--fs) * 42);
    }
    .categories {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: max-content;
      gap: calc(var(--fs) * 0.75);
    }
  }

  #careers-section {
    padding: 0 calc(var(--hor-padding)) calc(var(--fs) * 10);
    display: grid;
    grid-auto-flow: row;
    grid-auto-rows: max-content;
    .career {
      border-bottom: 1px solid #767676;
      padding-bottom: calc(var(--fs) * 3.19);
      padding-top: calc(var(--fs) * 2.53);
      padding-left: calc(var(--fs) * 2.94);
      padding-right: calc(var(--fs) * 2.47);
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      overflow: hidden;
      &:first-of-type {
        border-top: 1px solid #767676;
      }
      h2 {
        grid-column: 1/2;
        grid-row: 1/2;
        text-align: left;
        line-height: 1;
      }
      p {
        grid-column: 1/2;
        grid-row: 2/3;
        text-align: left;
        margin-top: calc(var(--fs) * 1);
      }
      button {
        grid-column: 2/3;
        grid-row: 1/2;
        text-transform: capitalize;
        justify-self: end;
        &:hover {
          img {
            scale: 1.25;
          }
        }
        img {
          transition: scale 0.15s ease-out;
          width: calc(var(--fs) * 2);
          height: calc(var(--fs) * 2);
          object-fit: contain;
          margin-left: calc(var(--fs) * 1.25);
        }
      }
      .btn {
        grid-column: 1/2;
        grid-row: 3/4;
        margin-top: calc(var(--fs) * 1.75);
        justify-self: start;
      }
      .content {
        grid-column: 2/3;
        grid-row: 4 / 5;
        opacity: 0;
        visibility: hidden;
        .title {
          margin-top: calc(var(--fs) * 6);
          &:first-of-type {
            margin-top: 0;
          }
        }
        p {
          &:last-of-type {
            margin-bottom: calc(var(--fs) * 6) !important;
          }
        }
      }
    }
  }

  @media (orientation: landscape) {
    #top-section {
      .ellipse {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(45%, calc(var(--fs) * -5)) !important;
        width: 80vw;
        height: auto;
        z-index: -1;
      }
    }
  }

  @media (orientation: portrait) {
    .btn {
      border-radius: calc(var(--fs) * 2.5);
      height: calc(var(--fs) * 1.8125);
      font-size: calc(var(--fs) * 0.875);
      padding: 0 calc(var(--fs) * 0.875) !important;
      &.first {
        margin: 0 calc(var(--hor-padding));
      }
    }
    #top-section {
      padding: calc(var(--top-space) * 2) 0 calc(var(--fs) * 5.69);
      gap: calc(var(--fs) * 2.75);

      & > * {
        padding: 0% calc(var(--hor-padding));
      }
      p {
        width: 95%;
      }
      .categories {
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: max-content;
        gap: calc(var(--fs) * 0.75);
        width: 100%;
        overflow-x: auto;
      }
    }

    #careers-section {
      padding: 0 calc(var(--hor-padding)) calc(var(--fs) * 10);
      display: grid;
      grid-auto-flow: row;
      grid-auto-rows: max-content;
      .career {
        padding-bottom: calc(var(--fs) * 1.69);
        padding-top: calc(var(--fs) * 1.37);
        padding-left: 0;
        padding-right: 0;
        grid-template-columns: 2.5fr 1fr;
        h2 {
          grid-column: 1/2;
          grid-row: 1/2;
          text-align: left;
          line-height: 1;
        }
        p {
          grid-column: 1/2;
          grid-row: 2/3;
          text-align: left;
          margin-top: calc(var(--fs) * 1);
        }
        button {
          grid-column: 2/3;
          grid-row: 3/4;
          text-transform: capitalize;
          justify-self: end;
          align-self: end;
          img {
            width: calc(var(--fs) * 1.33);
            height: calc(var(--fs) * 1.33);
            object-fit: contain;
            margin-left: calc(var(--fs) * 1);
          }
        }
        .btn {
          grid-column: 1/2;
          grid-row: 3/4;
          margin-top: calc(var(--fs) * 1.75);
          justify-self: start;
        }
        .content {
          grid-column: 1/3;
          grid-row: 4 / 5;
          .title {
            margin-top: calc(var(--fs) * 3) !important;
          }
          p {
            &:last-of-type {
              margin-bottom: calc(var(--fs) * 3) !important;
            }
          }
        }
      }
    }

    @media (min-aspect-ratio: 0.625) {
      .btn {
        border-radius: calc(var(--fs) * 2.5);
        height: calc(var(--fs) * 2.5);
        font-size: calc(var(--fs) * 1.125);
        padding: 0 calc(var(--fs) * 0.875) !important;
        &.first {
          margin: 0 calc(var(--hor-padding) * 2);
        }
      }
      #top-section {
        padding: calc(var(--top-space) * 2) 0 calc(var(--fs) * 6.63);
        gap: calc(var(--fs) * 2.81);
        & > * {
          padding: 0% calc(var(--hor-padding) * 2);
        }
        .categories {
          display: grid;
          grid-auto-flow: column;
          grid-auto-columns: max-content;
          gap: calc(var(--fs) * 0.75);
          width: 100%;
          overflow-x: auto;
        }
      }

      #careers-section {
        padding: 0 calc(var(--hor-padding) * 2) calc(var(--fs) * 10);
        display: grid;
        grid-auto-flow: row;
        grid-auto-rows: max-content;
        .career {
          padding-bottom: calc(var(--fs) * 2.22);
          padding-top: calc(var(--fs) * 2.44);
          grid-template-columns: 1fr max-content;
          h2 {
            font-size: calc(var(--fs) * 1.5625);
          }
          p {
            width: 60%;
            margin-top: calc(var(--fs) * 1);
          }
          button {
            grid-column: 2/3;
            grid-row: 3/4;
            text-transform: capitalize;
            justify-self: end;
            align-self: end;
            img {
              width: calc(var(--fs) * 1.33);
              height: calc(var(--fs) * 1.33);
              object-fit: contain;
              margin-left: calc(var(--fs) * 1);
            }
          }
          .btn {
            grid-column: 1/2;
            grid-row: 3/4;
            margin-top: calc(var(--fs) * 1.75);
            justify-self: start;
          }
          .content {
            grid-column: 1/3;
            grid-row: 4 / 5;
            p {
              width: 90%;
              &:last-of-type {
                margin-bottom: calc(var(--fs) * 3) !important;
              }
            }
          }
        }
      }
    }
  }
</style>
