---
interface Props {
  id: string;
  className?: string;
}

const { id, className = "desktop-vertical" } = Astro.props;
---

<div class={`bar ${className}`} id={id}>
  <div class="loaded"></div>
  <div class="glow"></div>
</div>

<style lang="scss">
  .bar {
    background: #565656;
    margin-right: calc(var(--fs) * 1.81);
    position: relative;
    &.desktop-vertical {
      width: calc(var(--fs) * 0.1875);
      height: calc(var(--fs) * 9.5625);
    }
    &.transition {
      .loaded {
        transition: transform 0.35s ease-in-out;
      }
    }
    .loaded {
      width: 100%;
      height: 100%;
      background: #fff;
      position: relative;
      transform-origin: top center;
      transform: scaleY(0);
    }
    .glow {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 300%;
      height: 50%;
      background: radial-gradient(#fff 25%, #00000000 70%);
      z-index: 1;
      display: none;
    }
  }

  @media (orientation: portrait) {
    .bar {
      background: #565656;
      margin-right: calc(var(--fs) * 1.81);
      position: relative;

      .loaded {
        width: 100%;
        height: 100%;
        background: #fff;
        position: relative;
        transform-origin: top center;
        transform: scaleY(0);
      }
      .glow {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 300%;
        height: 50%;
        background: radial-gradient(#fff 25%, #00000000 70%);
        z-index: 1;
      }

      &.desktop-vertical {
        width: calc(var(--fs) * 0.1875);
        height: calc(var(--fs) * 9.5625);
      }
      &.mobile-horizontal {
        height: calc(var(--fs) * 0.1875);
        width: calc(var(--fs) * 9.5625);
        .loaded {
          transform-origin: center left;
          transform: scaleX(0);
        }
      }
    }
  }
</style>
